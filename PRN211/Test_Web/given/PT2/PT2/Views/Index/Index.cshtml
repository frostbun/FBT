@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@using PT2.Models


<form asp-controller="Index" asp-action="Index" method="get">
    Detail Name: <input type="text" name="DetailName" value="@ViewBag.DetailName"/> <br />
    Master: <select name="MasterId">
        <option value="0">All</option>
        @foreach (DummyMaster d in ViewBag.Masters)
        {
            @if (d.MasterId == ViewBag.MasterId)
            {
                <option value="@d.MasterId" selected>@d.MasterName</option>
            }
            else
            {
                <option value="@d.MasterId">@d.MasterName</option>
            }
        }
    </select> <br />
    <button>Filter</button>
</form> <br />


<table border="1">
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Master</th>
    </tr>
    @foreach (DummyDetail d in ViewBag.Details)
    {
        <tr>
            <td>@d.DetailId</td>
            <td>@d.DetailName</td>
            <td>@d.Master.MasterName</td>
        </tr>
    }
</table>
